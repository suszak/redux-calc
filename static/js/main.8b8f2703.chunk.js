(this["webpackJsonpredux-calc"]=this["webpackJsonpredux-calc"]||[]).push([[0],[,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return calculateResult}));var _checkDivideError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_formatOperationsArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),calculateResult=function calculateResult(operationsArray){if(operationsArray.length<1)return{error:!1,string:"0"};var changedSignsArray=Object(_formatOperationsArray__WEBPACK_IMPORTED_MODULE_1__.a)(operationsArray),arrayOfNumbers=changedSignsArray.filter((function(r){return!isNaN(r)})),arrayOfSigns=changedSignsArray.filter((function(r){return isNaN(r)}));if("/"===arrayOfSigns.slice(-2,-1).join("")&&0===parseFloat(arrayOfNumbers.slice(-1)))return Object(_checkDivideError__WEBPACK_IMPORTED_MODULE_0__.a)(arrayOfNumbers);var result=""+arrayOfNumbers.reduce((function(prev,current,index){return eval(""+prev+arrayOfSigns[index-1]+current)}));return{error:!1,string:result.replace(".",",")}}},,,,,,,function(r,e,a){"use strict";a.d(e,"a",(function(){return n}));var n=function(r){return 0===parseFloat(r.slice(-2,-1))?{error:!0,string:"Undefined result"}:{error:!0,string:"Do not divide by zero"}}},function(r,e,a){"use strict";a.d(e,"a",(function(){return n}));var n=function(r){return r.join(" ").replace(/,/g,".").replace(/\xd7/g,"*").replace(/\xf7/g,"/").replace(/- -/g,"+ ").split(" ")}},function(r,e,a){r.exports=a(30)},,,,,function(r,e,a){},function(r,e,a){},function(r,e,a){},,,,,,,function(r,e,a){},function(r,e,a){},function(r,e,a){"use strict";a.r(e);var n=a(0),t=a.n(n),i=a(6),l=a.n(i),o=(a(19),a(20),a(21),a(3)),c=(a(28),["%","+/-",",","+","-","\xd7","\xf7","x\xb2","\u221ax","1/x"]),u=function(r,e,a){return isNaN(r)?"="===r?"button result":e&&-1!==a.indexOf(r)?"button operation disabled":"button operation":"button"},s=function(r){var e=r.value,a=r.onclick,n=Object(o.c)((function(r){return r.calculator})),i=Object(o.b)(),l=function(r,e,a){return!e||-1===a.indexOf(r)}(e,n.isError,c)?function(){return i(a)}:null;return t.a.createElement("button",{className:u(e,n.isError,c),onClick:l},e)},g=function(r,e){return r.isError?""+e:r.mainValueString.length<17&&-1!==r.mainValueString.indexOf(",")||r.mainValueString.length<16&&-1===r.mainValueString.indexOf(",")||r.result?r.isEqualSignUsed||r.result?","===e?"0,":""+e:-1!==r.mainValueString.indexOf(",")&&","===e?r.mainValueString:"0"===r.mainValueString?","===e?"0,":""+e:r.mainValueString+e:r.mainValueString},d=a(2),y=function(r){return parseFloat(r.replace(",","."))},p=function(r,e){var a=e.historyOfOperationsArray,n=e.mainValueString,t=e.result,i=e.isEqualSignUsed,l=e.lastNumberAndOperationString,o=e.isError,c=e.isSignChanged;return o?[]:i?"="===r?[n].concat(Object(d.a)(l.split(" ")),[r]):[","!==n.slice(-1)?n:n+"0",r]:t?isNaN(y(a.slice(-1).join("")))?"="!==r?a.map((function(e,n){return n!==a.length-1?e:r})):[].concat(Object(d.a)(a),[n,r]):c?[n,r]:[].concat(Object(d.a)(a),[r]):isNaN(y(a.slice(-1).join("")))?[].concat(Object(d.a)(a),[","!==n.slice(-1)?n:n+"0",r]):[].concat(Object(d.a)(a),[r])},O=a(5),b=function(r){return(""+r).replace(".",",")},f=function(r){var e=r.historyOfOperationsArray,a=r.mainValueString,n=r.isEqualSignUsed,t=r.isSignChanged;if(n||e.length<1)return{bigString:b(Math.pow(y(a),2)),smallArray:[b(Math.pow(y(a),2))]};if(e.length>0){if(isNaN(y(e.slice(-1).join(""))))return{bigString:b(Math.pow(y(a),2)),smallArray:[].concat(Object(d.a)(e),[b(Math.pow(y(a),2))])};if(t)return{bigString:b(Math.pow(y(a),2)),smallArray:[b(Math.pow(y(a),2))]};var i=e.map((function(r,a){return a!==e.length-1?r:b(Math.pow(y(r),2))}));return{bigString:i.slice(-1).join(""),smallArray:i}}},m=function(r){var e=r.historyOfOperationsArray,a=r.mainValueString,n=r.isEqualSignUsed,t=r.isSignChanged;if(n||e.length<1)return y(a)>=0?{bigString:b(Math.sqrt(y(a))),smallArray:[b(Math.sqrt(y(a)))],error:!1}:{bigString:"Invalid input",smallArray:["\u221a("+a+")"],error:!0};if(e.length>0){if(isNaN(y(e.slice(-1).join(""))))return y(a)>=0?{bigString:b(Math.sqrt(y(a))),smallArray:[].concat(Object(d.a)(e),[b(Math.sqrt(y(a)))]),error:!1}:{bigString:"Invalid input",smallArray:[].concat(Object(d.a)(e),["\u221a("+a+")"]),error:!0};if(t)return y(a)>=0?{bigString:b(Math.sqrt(y(a))),smallArray:[b(Math.sqrt(y(a)))],error:!1}:{bigString:"Invalid input",smallArray:[].concat(Object(d.a)(e),["\u221a("+a+")"]),error:!0};if(y(e.slice(-1).join(""))>=0){var i=e.map((function(r,a){return a!==e.length-1?r:b(Math.sqrt(y(r)))}));return{bigString:i.slice(-1).join(""),smallArray:i,error:!1}}return{bigString:"Invalid input",smallArray:e.map((function(r,a){return a!==e.length-1?r:"\u221a("+r+")"})),error:!0}}},S=function(r){var e=r.historyOfOperationsArray,a=r.mainValueString,n=r.isEqualSignUsed;return 0!==y(a)?n?{bigString:b(1/y(a)),smallArray:[b(1/y(a))],error:!1}:{bigString:b(1/y(a)),smallArray:[].concat(Object(d.a)(e),[b(1/y(a))]),error:!1}:{bigString:"Do not divide by zero",smallArray:[].concat(Object(d.a)(e),["1/(0)"]),error:!0}},h=function(r){var e=r.historyOfOperationsArray,a=r.mainValueString,n=r.isEqualSignUsed,t=r.result,i=y(a),l=y(e.slice(-1).join(""));if(e.length<1)return{bigString:"0",smallArray:["0"]};if(t){var o=b(i*(i/100));return{bigString:o,smallArray:n?[o]:[].concat(Object(d.a)(e),[o])}}var c=isNaN(l)?Object(O.a)(e.slice(0,-1)).string:Object(O.a)(e.slice(0,-2)).string,u=b(y(c)*(i/100));return{bigString:u,smallArray:isNaN(l)?[].concat(Object(d.a)(e),[u]):e.map((function(r,a){return a!==e.length-1?r:u}))}},j=function(r){var e=r.mainValueString;return r.result?e:e.length>1?e.slice(0,-1):"0"},v=function(r){var e=r.historyOfOperationsArray;return r.isEqualSignUsed?[]:e},E=function(r){var e=r.mainValueString,a=r.historyOfOperationsArray;return isNaN(y(a.slice(-1).join("")))?0!==y(e)?{bigString:b(-1*y(e)),smallArray:null,isSignChanged:!0}:{bigString:e,isSignChanged:!1}:{bigString:b(-1*y(a.slice(-1).join(""))),smallArray:a.map((function(r,e){return e!==a.length-1?r:b(-1*y(a.slice(-1).join("")))})),isSignChanged:!0}},_=function(r,e){return{type:"mainValueChanged",payload:{number:r,mainValueString:g(e,r)}}},A=function(r,e){return{type:"operationDone",payload:{operation:r,newSmallDisplayValuesObjectArrayWithError:p(r,e),calculatedResultAndErrorObject:Object(O.a)(p(r,e))}}},C=function(r){return{type:"lastCharacterDeleted",payload:{mainValueString:r.isError?"0":j(r),historyOfOperationsArray:r.isError?[]:v(r)}}},V=function(r){return{type:"signChanged",payload:{signChangedObject:E(r)}}},N=function(r){return{type:"powerCalculated",payload:{calculatedPowerObject:f(r)}}},k=function(r){return{type:"squareRootCalculated",payload:{calculatedSquareRootObject:m(r)}}},w=function(r){return{type:"oneByXDivided",payload:{oneByXDividedObject:S(r)}}},q=function(r){return{type:"percentCalculated",payload:{percentCalculatedObject:h(r)}}},D=function(r,e,a){switch(r.preventDefault(),r.keyCode){case 49:a(_(1,e));break;case 50:a(_(2,e));break;case 51:a(_(3,e));break;case 52:a(_(4,e));break;case 53:a(_(5,e));break;case 54:a(_(6,e));break;case 55:a(_(7,e));break;case 56:a(_(8,e));break;case 57:a(_(9,e));break;case 48:a(_(0,e));break;case 44:a(_(",",e));break;case 43:a(A("+",e));break;case 45:a(A("-",e));break;case 42:a(A("\xd7",e));break;case 47:a(A("/",e));break;case 13:case 61:a(A("=",e));break;case 8:a(C(e));break;case 27:a({type:"allCleared"});break;case 46:a({type:"mainValueCleared"})}},M=function(){var r,e=Object(o.b)(),a=Object(o.c)((function(r){return r.calculator}));return Object(n.useEffect)((function(){return document.addEventListener("keypress",(function(r){D(r,a,e)})),document.removeEventListener("keypress",(function(r){return D(r,a,e)}))}),[a]),t.a.createElement("section",{className:"keyboard"},(r=a,[{value:"%",function:q(r)},{value:"CE",function:{type:"mainValueCleared"}},{value:"C",function:{type:"allCleared"}},{value:"\u22b2",function:C(r)},{value:"1/x",function:w(r)},{value:"x\xb2",function:N(r)},{value:"\u221ax",function:k(r)},{value:"\xf7",function:A("\xf7",r)},{value:"7",function:_(7,r)},{value:"8",function:_(8,r)},{value:"9",function:_(9,r)},{value:"\xd7",function:A("\xd7",r)},{value:"4",function:_(4,r)},{value:"5",function:_(5,r)},{value:"6",function:_(6,r)},{value:"-",function:A("-",r)},{value:"1",function:_(1,r)},{value:"2",function:_(2,r)},{value:"3",function:_(3,r)},{value:"+",function:A("+",r)},{value:"+/-",function:V(r)},{value:"0",function:_(0,r)},{value:",",function:_(",",r)},{value:"=",function:A("=",r)}]).map((function(r){return t.a.createElement(s,{key:r.value,value:r.value,onclick:r.function})})))},U=(a(29),function(){var r,e=Object(o.c)((function(r){return r.calculator}));return t.a.createElement("section",{className:"display"},t.a.createElement("p",{className:"display__small"},(r=e.historyOfOperationsArray.join(" ")).length<=40?r:"..."+r.slice(-40)),t.a.createElement("p",{className:"display__big"},e.mainValueString.replace(/\B(?<!,\d*)(?=(\d{3})+(?!\d))/g," ")))});var x=function(){return t.a.createElement("div",{className:"App"},t.a.createElement(U,null),t.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(4),B=a(1);var I=Object(R.b)({calculator:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mainValueString:"0",historyOfOperationsArray:[],lastNumberAndOperationString:"",result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"mainValueChanged":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:e.payload.mainValueString,historyOfOperationsArray:r.isError||r.isEqualSignUsed?[]:r.historyOfOperationsArray,result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1});case"mainValueCleared":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:"0",historyOfOperationsArray:r.isError||r.isEqualSignUsed?[]:r.historyOfOperationsArray,result:!1,isEqualSignUsed:!1,lastNumberAndOperationString:r.isEqualSignUsed?"":r.lastNumberAndOperationString,isError:!1,isSignChanged:!1});case"allCleared":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:"0",historyOfOperationsArray:[],lastNumberAndOperationString:"",result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1});case"operationDone":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:e.payload.calculatedResultAndErrorObject.string,historyOfOperationsArray:e.payload.newSmallDisplayValuesObjectArrayWithError,result:"="!==e.payload.operation||!r.isError,isEqualSignUsed:"="===e.payload.operation&&!r.isError,lastNumberAndOperationString:e.payload.newSmallDisplayValuesObjectArrayWithError.slice(-3,-1).join(" "),isError:e.payload.calculatedResultAndErrorObject.error,isSignChanged:!1});case"powerCalculated":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:e.payload.calculatedPowerObject.bigString,historyOfOperationsArray:e.payload.calculatedPowerObject.smallArray});case"squareRootCalculated":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:e.payload.calculatedSquareRootObject.bigString,historyOfOperationsArray:e.payload.calculatedSquareRootObject.smallArray,isError:e.payload.calculatedSquareRootObject.error});case"oneByXDivided":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:e.payload.oneByXDividedObject.bigString,historyOfOperationsArray:e.payload.oneByXDividedObject.smallArray,isError:e.payload.oneByXDividedObject.error});case"percentCalculated":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:e.payload.percentCalculatedObject.bigString,historyOfOperationsArray:e.payload.percentCalculatedObject.smallArray});case"lastCharacterDeleted":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:e.payload.mainValueString,historyOfOperationsArray:e.payload.historyOfOperationsArray,isError:!1,isSignChanged:!1});case"signChanged":return Object(B.a)(Object(B.a)({},r),{},{mainValueString:e.payload.signChangedObject.bigString,historyOfOperationsArray:null!==e.payload.signChangedObject.smallArray?e.payload.signChangedObject.smallArray:r.historyOfOperationsArray,isSignChanged:e.payload.signChangedObject.isSignChanged});default:return r}}}),P=Object(R.c)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(t.a.createElement(t.a.StrictMode,null,t.a.createElement(o.a,{store:P},t.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(r){r.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.8b8f2703.chunk.js.map