(this["webpackJsonpredux-calc"]=this["webpackJsonpredux-calc"]||[]).push([[0],[,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return calculateResult}));var calculateResult=function calculateResult(operationsArray){if(operationsArray.length<1)return{error:!1,string:"0"};var changedSignsArray=operationsArray.join(" ").replace(/,/g,".").replace(/\xd7/g,"*").replace(/\xf7/g,"/").replace(/- -/g,"+ ").split(" "),arrayOfNumbers=changedSignsArray.filter((function(r){return!isNaN(r)})),arrayOfSigns=changedSignsArray.filter((function(r){return isNaN(r)}));if("/"===arrayOfSigns.slice(-2,-1).join("")&&0===parseFloat(arrayOfNumbers.slice(-1)))return 0===parseFloat(arrayOfNumbers.slice(-2,-1))?{error:!0,string:"Undefined result"}:{error:!0,string:"Do not divide by zero"};var result=""+arrayOfNumbers.reduce((function(prev,current,index){return eval(""+prev+arrayOfSigns[index-1]+current)}));return{error:!1,string:result.replace(".",",")}}},,,,,,,function(r,a,e){r.exports=e(28)},,,,,function(r,a,e){},function(r,a,e){},function(r,a,e){},,,,,,,function(r,a,e){},function(r,a,e){},function(r,a,e){"use strict";e.r(a);var n=e(0),i=e.n(n),t=e(6),l=e.n(t),s=(e(17),e(18),e(19),e(3)),c=(e(26),function(r){var a=r.value,e=r.onclick,n=Object(s.c)((function(r){return r.calculator})),t=Object(s.b)(),l=["%","+/-",",","+","-","\xd7","\xf7","x\xb2","\u221ax","1/x"];return i.a.createElement("button",{className:isNaN(a)?"="!==a?n.isError&&-1!==l.indexOf(a)?"button operation disabled":"button operation":"button result":"button",onClick:n.isError&&-1!==l.indexOf(a)?function(){}:function(){return t(e)}},a)}),u=function(r){return{type:"bigDisplayValueChanged",payload:{number:r}}},o=function(r){return{type:"operationDone",payload:{operation:r}}},g=[{value:"%",function:{type:"percentCalculated"}},{value:"CE",function:{type:"bigDisplayStringCleared"}},{value:"C",function:{type:"allCleared"}},{value:"\u22b2",function:{type:"lastCharacterDeleted"}},{value:"1/x",function:{type:"oneByXDivided"}},{value:"x\xb2",function:{type:"powerCalculated"}},{value:"\u221ax",function:{type:"squareRootCalculated"}},{value:"\xf7",function:o("\xf7")},{value:"7",function:u(7)},{value:"8",function:u(8)},{value:"9",function:u(9)},{value:"\xd7",function:o("\xd7")},{value:"4",function:u(4)},{value:"5",function:u(5)},{value:"6",function:u(6)},{value:"-",function:o("-")},{value:"1",function:u(1)},{value:"2",function:u(2)},{value:"3",function:u(3)},{value:"+",function:o("+")},{value:"+/-",function:{type:"signChanged"}},{value:"0",function:u(0)},{value:",",function:u(",")},{value:"=",function:o("=")}],y=function(){var r=Object(s.b)(),a=function(a){switch(a.preventDefault(),a.keyCode){case 49:r(u(1));break;case 50:r(u(2));break;case 51:r(u(3));break;case 52:r(u(4));break;case 53:r(u(5));break;case 54:r(u(6));break;case 55:r(u(7));break;case 56:r(u(8));break;case 57:r(u(9));break;case 48:r(u(0));break;case 44:r(u(","));break;case 43:r(o("+"));break;case 45:r(o("-"));break;case 42:r(o("\xd7"));break;case 47:r(o("\xf7"));break;case 13:case 61:r(o("="));break;case 8:r({type:"lastCharacterDeleted"});break;case 27:r({type:"allCleared"});break;case 46:r({type:"bigDisplayStringCleared"})}};return Object(n.useEffect)((function(){return document.addEventListener("keypress",(function(r){return a(r)})),document.removeEventListener("keypress",(function(r){return a(r)}))}),[]),i.a.createElement("section",{className:"keyboard"},g.map((function(r){return i.a.createElement(c,{key:r.value,value:r.value,onclick:r.function})})))},p=(e(27),function(){var r=Object(s.c)((function(r){return r.calculator})),a=r.smallDisplayValuesArrayOfStrings.join(" ");return i.a.createElement("section",{className:"display"},i.a.createElement("p",{className:"display__small"},a.length<=40?a:"..."+a.slice(-40)),i.a.createElement("p",{className:"display__big"},r.bigDisplayString.replace(/\B(?<!,\d*)(?=(\d{3})+(?!\d))/g," ")))});var b=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(p,null),i.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=e(4),d=e(1),S=function(r,a,e,n){return r.length<17&&-1!==r.indexOf(",")||r.length<16&&-1===r.indexOf(",")||a?e||a?","===n?"0,":""+n:-1!==r.indexOf(",")&&","===n?r:"0"===r?","===n?"0,":""+n:r+n:r},m=e(5),O=e(2),v=function(r){return parseFloat(r.replace(",","."))},h=function(r,a,e,n,i,t,l,s){return l?[]:i?"="===e?[a].concat(Object(O.a)(t.split(" ")),[e]):[","!==a.slice(-1)?a:a+"0",e]:n?isNaN(v(r.slice(-1).join("")))?"="!==e?r.map((function(a,n){return n!==r.length-1?a:e})):[].concat(Object(O.a)(r),[a,e]):s?[a,e]:[].concat(Object(O.a)(r),[e]):isNaN(v(r.slice(-1).join("")))?[].concat(Object(O.a)(r),[","!==a.slice(-1)?a:a+"0",e]):[].concat(Object(O.a)(r),[e])},A=function(r,a){return a?r:r.length>1?r.slice(0,-1):"0"},D=function(r,a){return a?[]:r},E=function(r){return(""+r).replace(".",",")},j=function(r,a){return isNaN(v(a.slice(-1).join("")))?0!==v(r)?{bigArray:E(-1*v(r)),smallArray:null,isSignChanged:!0}:{array:r,isSignChanged:!1}:{bigArray:E(-1*v(a.slice(-1).join(""))),smallArray:a.map((function(r,e){return e!==a.length-1?r:E(-1*v(a.slice(-1).join("")))})),isSignChanged:!0}},N=function(r,a,e,n){if(e||r.length<1)return{bigString:E(Math.pow(v(a),2)),smallArray:[E(Math.pow(v(a),2))]};if(r.length>0){if(isNaN(v(r.slice(-1).join(""))))return{bigString:E(Math.pow(v(a),2)),smallArray:[].concat(Object(O.a)(r),[E(Math.pow(v(a),2))])};if(n)return{bigString:E(Math.pow(v(a),2)),smallArray:[E(Math.pow(v(a),2))]};var i=r.map((function(a,e){return e!==r.length-1?a:E(Math.pow(v(a),2))}));return{bigString:i.slice(-1),smallArray:i}}},C=function(r,a,e,n){if(e||r.length<1)return v(a)>=0?{bigString:E(Math.sqrt(v(a))),smallArray:[E(Math.sqrt(v(a)))],error:!1}:{bigString:"Invalid input",smallArray:["\u221a("+a+")"],error:!0};if(r.length>0){if(isNaN(v(r.slice(-1).join(""))))return v(a)>=0?{bigString:E(Math.sqrt(v(a))),smallArray:[].concat(Object(O.a)(r),[E(Math.sqrt(v(a)))]),error:!1}:{bigString:"Invalid input",smallArray:[].concat(Object(O.a)(r),["\u221a("+a+")"]),error:!0};if(n)return v(a)>=0?{bigString:E(Math.sqrt(v(a))),smallArray:[E(Math.sqrt(v(a)))],error:!1}:{bigString:"Invalid input",smallArray:[].concat(Object(O.a)(r),["\u221a("+a+")"]),error:!0};if(v(r.slice(-1).join(""))>=0){var i=r.map((function(a,e){return e!==r.length-1?a:E(Math.sqrt(v(a)))}));return{bigString:i.slice(-1),smallArray:i,error:!1}}return{bigString:"Invalid input",smallArray:r.map((function(a,e){return e!==r.length-1?a:"\u221a("+a+")"})),error:!0}}},_=function(r,a,e){return 0!==v(a)?e?{bigString:E(1/v(a)),smallArray:[E(1/v(a))],error:!1}:{bigString:E(1/v(a)),smallArray:[].concat(Object(O.a)(r),[E(1/v(a))]),error:!1}:{bigString:"Do not divide by zero",smallArray:[].concat(Object(O.a)(r),["1/(0)"]),error:!0}},k=function(r,a,e,n){var i=v(a),t=v(r.slice(-1).join(""));if(r.length<1)return{bigString:"0",smallArray:["0"]};if(n){var l=E(i*(i/100));return{bigString:l,smallArray:e?[l]:[].concat(Object(O.a)(r),[l])}}var s=isNaN(t)?Object(m.a)(r.slice(0,-1)).string:Object(m.a)(r.slice(0,-2)).string,c=E(v(s)*(i/100));return{bigString:c,smallArray:isNaN(t)?[].concat(Object(O.a)(r),[c]):r.map((function(a,e){return e!==r.length-1?a:c}))}};var w=Object(f.b)({calculator:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bigDisplayString:"0",smallDisplayValuesArrayOfStrings:[],lastNumberAndOperationString:"",result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"bigDisplayValueChanged":return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:r.isError?""+a.payload.number:S(r.bigDisplayString,r.result,r.isEqualSignUsed,a.payload.number),smallDisplayValuesArrayOfStrings:r.isError||r.isEqualSignUsed?[]:r.smallDisplayValuesArrayOfStrings,result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1});case"bigDisplayStringCleared":return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:"0",smallDisplayValuesArrayOfStrings:r.isError||r.isEqualSignUsed?[]:r.smallDisplayValuesArrayOfStrings,result:!1,isEqualSignUsed:!1,lastNumberAndOperationString:r.isEqualSignUsed?"":r.lastNumberAndOperationString,isError:!1,isSignChanged:!1});case"allCleared":return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:"0",smallDisplayValuesArrayOfStrings:[],lastNumberAndOperationString:"",result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1});case"operationDone":var e=h(r.smallDisplayValuesArrayOfStrings,r.bigDisplayString,a.payload.operation,r.result,r.isEqualSignUsed,r.lastNumberAndOperationString,r.isError,r.isSignChanged),n=Object(m.a)(e);return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:n.string,smallDisplayValuesArrayOfStrings:e,result:"="!==a.payload.operation||!r.isError,isEqualSignUsed:"="===a.payload.operation&&!r.isError,lastNumberAndOperationString:e.slice(-3,-1).join(" "),isError:n.error,isSignChanged:!1});case"powerCalculated":var i=N(r.smallDisplayValuesArrayOfStrings,r.bigDisplayString,r.isEqualSignUsed,r.isSignChanged);return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:i.bigString,smallDisplayValuesArrayOfStrings:i.smallArray});case"squareRootCalculated":var t=C(r.smallDisplayValuesArrayOfStrings,r.bigDisplayString,r.isEqualSignUsed,r.isSignChanged);return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:t.bigString,smallDisplayValuesArrayOfStrings:t.smallArray,isError:t.error});case"oneByXDivided":var l=_(r.smallDisplayValuesArrayOfStrings,r.bigDisplayString,r.isEqualSignUsed);return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:l.bigString,smallDisplayValuesArrayOfStrings:l.smallArray,isError:l.error});case"percentCalculated":var s=k(r.smallDisplayValuesArrayOfStrings,r.bigDisplayString,r.isEqualSignUsed,r.result);return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:s.bigString,smallDisplayValuesArrayOfStrings:s.smallArray});case"lastCharacterDeleted":return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:r.isError?"0":A(r.bigDisplayString,r.result),smallDisplayValuesArrayOfStrings:r.isError?[]:D(r.smallDisplayValuesArrayOfStrings,r.isEqualSignUsed),isError:!1,isSignChanged:!1});case"signChanged":var c=j(r.bigDisplayString,r.smallDisplayValuesArrayOfStrings);return Object(d.a)(Object(d.a)({},r),{},{bigDisplayString:c.bigArray,smallDisplayValuesArrayOfStrings:null!==c.smallArray?c.smallArray:r.smallDisplayValuesArrayOfStrings,isSignChanged:c.isSignChanged});default:return r}}}),q=Object(f.c)(w,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(s.a,{store:q},i.a.createElement(b,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(r){r.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.8b47d3d9.chunk.js.map