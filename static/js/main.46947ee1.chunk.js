(this["webpackJsonpredux-calc"]=this["webpackJsonpredux-calc"]||[]).push([[0],[,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return calculateResult}));var _checkDivideError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_formatOperationsArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),calculateResult=function calculateResult(operationsArray){if(operationsArray.length<1)return{error:!1,string:"0"};var changedSignsArray=Object(_formatOperationsArray__WEBPACK_IMPORTED_MODULE_1__.a)(operationsArray),arrayOfNumbers=changedSignsArray.filter((function(r){return!isNaN(r)})),arrayOfSigns=changedSignsArray.filter((function(r){return isNaN(r)}));if("/"===arrayOfSigns.slice(-2,-1).join("")&&0===parseFloat(arrayOfNumbers.slice(-1)))return Object(_checkDivideError__WEBPACK_IMPORTED_MODULE_0__.a)(arrayOfNumbers);var result=""+arrayOfNumbers.reduce((function(prev,current,index){return eval(""+prev+arrayOfSigns[index-1]+current)}));return{error:!1,string:result.replace(".",",")}}},,,,,,,function(r,a,e){"use strict";e.d(a,"a",(function(){return n}));var n=function(r){return 0===parseFloat(r.slice(-2,-1))?{error:!0,string:"Undefined result"}:{error:!0,string:"Do not divide by zero"}}},function(r,a,e){"use strict";e.d(a,"a",(function(){return n}));var n=function(r){return r.join(" ").replace(/,/g,".").replace(/\xd7/g,"*").replace(/\xf7/g,"/").replace(/- -/g,"+ ").split(" ")}},function(r,a,e){r.exports=e(30)},,,,,function(r,a,e){},function(r,a,e){},function(r,a,e){},,,,,,,function(r,a,e){},function(r,a,e){},function(r,a,e){"use strict";e.r(a);var n=e(0),t=e.n(n),i=e(6),l=e.n(i),o=(e(19),e(20),e(21),e(3)),c=(e(28),["%","+/-",",","+","-","\xd7","\xf7","x\xb2","\u221ax","1/x"]),u=function(r,a,e){return isNaN(r)?"="===r?"button result":a&&-1!==e.indexOf(r)?"button operation disabled":"button operation":"button"},s=function(r){var a=r.value,e=r.onclick,n=Object(o.c)((function(r){return r.calculator})),i=Object(o.b)(),l=function(r,a,e){return!a||-1===e.indexOf(r)}(a,n.isError,c)?function(){return i(e)}:null;return t.a.createElement("button",{className:u(a,n.isError,c),onClick:l},a)},g=function(r,a){return r.isError?""+a:r.mainValueString.length<17&&-1!==r.mainValueString.indexOf(",")||r.mainValueString.length<16&&-1===r.mainValueString.indexOf(",")||r.result?r.isEqualSignUsed||r.result?","===a?"0,":""+a:-1!==r.mainValueString.indexOf(",")&&","===a?r.mainValueString:"0"===r.mainValueString?","===a?"0,":""+a:r.mainValueString+a:r.mainValueString},d=e(2),y=function(r){return parseFloat(r.replace(",","."))},O=function(r,a){var e=a.historyOfOperationsArray,n=a.mainValueString,t=a.result,i=a.isEqualSignUsed,l=a.lastNumberAndOperationString,o=a.isError,c=a.isSignChanged;return o?[]:i?"="===r?[n].concat(Object(d.a)(l.split(" ")),[r]):[","!==n.slice(-1)?n:n+"0",r]:t?isNaN(y(e.slice(-1).join("")))?"="!==r?e.map((function(a,n){return n!==e.length-1?a:r})):[].concat(Object(d.a)(e),[n,r]):c?[n,r]:[].concat(Object(d.a)(e),[r]):isNaN(y(e.slice(-1).join("")))?[].concat(Object(d.a)(e),[","!==n.slice(-1)?n:n+"0",r]):[].concat(Object(d.a)(e),[r])},p=e(5),f=function(r){return(""+r).replace(".",",")},b=function(r){var a=r.historyOfOperationsArray,e=r.mainValueString,n=r.isEqualSignUsed,t=r.isSignChanged;if(n||a.length<1)return{bigString:f(Math.pow(y(e),2)),smallArray:[f(Math.pow(y(e),2))]};if(a.length>0){if(isNaN(y(a.slice(-1).join(""))))return{bigString:f(Math.pow(y(e),2)),smallArray:[].concat(Object(d.a)(a),[f(Math.pow(y(e),2))])};if(t)return{bigString:f(Math.pow(y(e),2)),smallArray:[f(Math.pow(y(e),2))]};var i=a.map((function(r,e){return e!==a.length-1?r:f(Math.pow(y(r),2))}));return{bigString:i.slice(-1).join(""),smallArray:i}}},m=function(r){var a=r.historyOfOperationsArray,e=r.mainValueString,n=r.isEqualSignUsed,t=r.isSignChanged;if(n||a.length<1)return y(e)>=0?{bigString:f(Math.sqrt(y(e))),smallArray:[f(Math.sqrt(y(e)))],error:!1}:{bigString:"Invalid input",smallArray:["\u221a("+e+")"],error:!0};if(a.length>0){if(isNaN(y(a.slice(-1).join(""))))return y(e)>=0?{bigString:f(Math.sqrt(y(e))),smallArray:[].concat(Object(d.a)(a),[f(Math.sqrt(y(e)))]),error:!1}:{bigString:"Invalid input",smallArray:[].concat(Object(d.a)(a),["\u221a("+e+")"]),error:!0};if(t)return y(e)>=0?{bigString:f(Math.sqrt(y(e))),smallArray:[f(Math.sqrt(y(e)))],error:!1}:{bigString:"Invalid input",smallArray:[].concat(Object(d.a)(a),["\u221a("+e+")"]),error:!0};if(y(a.slice(-1).join(""))>=0){var i=a.map((function(r,e){return e!==a.length-1?r:f(Math.sqrt(y(r)))}));return{bigString:i.slice(-1).join(""),smallArray:i,error:!1}}return{bigString:"Invalid input",smallArray:a.map((function(r,e){return e!==a.length-1?r:"\u221a("+r+")"})),error:!0}}},S=function(r){var a=r.historyOfOperationsArray,e=r.mainValueString,n=r.isEqualSignUsed;return 0!==y(e)?n?{bigString:f(1/y(e)),smallArray:[f(1/y(e))],error:!1}:{bigString:f(1/y(e)),smallArray:[].concat(Object(d.a)(a),[f(1/y(e))]),error:!1}:{bigString:"Do not divide by zero",smallArray:[].concat(Object(d.a)(a),["1/(0)"]),error:!0}},h=function(r){var a=r.historyOfOperationsArray,e=r.mainValueString,n=r.isEqualSignUsed,t=r.result,i=y(e),l=y(a.slice(-1).join(""));if(a.length<1)return{bigString:"0",smallArray:["0"]};if(t){var o=f(i*(i/100));return{bigString:o,smallArray:n?[o]:[].concat(Object(d.a)(a),[o])}}var c=isNaN(l)?Object(p.a)(a.slice(0,-1)).string:Object(p.a)(a.slice(0,-2)).string,u=f(y(c)*(i/100));return{bigString:u,smallArray:isNaN(l)?[].concat(Object(d.a)(a),[u]):a.map((function(r,e){return e!==a.length-1?r:u}))}},j=function(r){var a=r.mainValueString;return r.result?a:a.length>1?a.slice(0,-1):"0"},_=function(r){var a=r.historyOfOperationsArray;return r.isEqualSignUsed?[]:a},v=function(r){var a=r.mainValueString,e=r.historyOfOperationsArray;return isNaN(y(e.slice(-1).join("")))?0!==y(a)?{bigString:f(-1*y(a)),smallArray:null,isSignChanged:!0}:{bigString:a,isSignChanged:!1}:{bigString:f(-1*y(e.slice(-1).join(""))),smallArray:e.map((function(r,a){return a!==e.length-1?r:f(-1*y(e.slice(-1).join("")))})),isSignChanged:!0}},A=function(r,a){return{type:"mainValueChanged",payload:{number:r,mainValueString:g(a,r)}}},E=function(r,a){return{type:"operationDone",payload:{operation:r,newSmallDisplayValuesObjectArrayWithError:O(r,a),calculatedResultAndErrorObject:Object(p.a)(O(r,a))}}},C=function(r){return{type:"lastCharacterDeleted",payload:{mainValueString:r.isError?"0":j(r),historyOfOperationsArray:r.isError?[]:_(r)}}},V=function(r){return{type:"signChanged",payload:{signChangedObject:v(r)}}},N=function(r){return{type:"powerCalculated",payload:{calculatedPowerObject:b(r)}}},w=function(r){return{type:"squareRootCalculated",payload:{calculatedSquareRootObject:m(r)}}},q=function(r){return{type:"oneByXDivided",payload:{oneByXDividedObject:S(r)}}},D=function(r){return{type:"percentCalculated",payload:{percentCalculatedObject:h(r)}}},M=function(){var r,a=Object(o.c)((function(r){return r.calculator}));return t.a.createElement("section",{className:"keyboard"},(r=a,[{value:"%",function:D(r)},{value:"CE",function:{type:"mainValueCleared"}},{value:"C",function:{type:"allCleared"}},{value:"\u22b2",function:C(r)},{value:"1/x",function:q(r)},{value:"x\xb2",function:N(r)},{value:"\u221ax",function:w(r)},{value:"\xf7",function:E("\xf7",r)},{value:"7",function:A(7,r)},{value:"8",function:A(8,r)},{value:"9",function:A(9,r)},{value:"\xd7",function:E("\xd7",r)},{value:"4",function:A(4,r)},{value:"5",function:A(5,r)},{value:"6",function:A(6,r)},{value:"-",function:E("-",r)},{value:"1",function:A(1,r)},{value:"2",function:A(2,r)},{value:"3",function:A(3,r)},{value:"+",function:E("+",r)},{value:"+/-",function:V(r)},{value:"0",function:A(0,r)},{value:",",function:A(",",r)},{value:"=",function:E("=",r)}]).map((function(r){return t.a.createElement(s,{key:r.value,value:r.value,onclick:r.function})})))},U=(e(29),function(){var r,a=Object(o.c)((function(r){return r.calculator}));return t.a.createElement("section",{className:"display"},t.a.createElement("p",{className:"display__small"},(r=a.historyOfOperationsArray.join(" ")).length<=40?r:"..."+r.slice(-40)),t.a.createElement("p",{className:"display__big"},a.mainValueString.replace(/\B(?<!,\d*)(?=(\d{3})+(?!\d))/g," ")))});var x=function(){return t.a.createElement("div",{className:"App"},t.a.createElement(U,null),t.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=e(4),k=e(1);var B=Object(R.b)({calculator:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mainValueString:"0",historyOfOperationsArray:[],lastNumberAndOperationString:"",result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"mainValueChanged":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:a.payload.mainValueString,historyOfOperationsArray:r.isError||r.isEqualSignUsed?[]:r.historyOfOperationsArray,result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1});case"mainValueCleared":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:"0",historyOfOperationsArray:r.isError||r.isEqualSignUsed?[]:r.historyOfOperationsArray,result:!1,isEqualSignUsed:!1,lastNumberAndOperationString:r.isEqualSignUsed?"":r.lastNumberAndOperationString,isError:!1,isSignChanged:!1});case"allCleared":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:"0",historyOfOperationsArray:[],lastNumberAndOperationString:"",result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1});case"operationDone":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:a.payload.calculatedResultAndErrorObject.string,historyOfOperationsArray:a.payload.newSmallDisplayValuesObjectArrayWithError,result:"="!==a.payload.operation||!r.isError,isEqualSignUsed:"="===a.payload.operation&&!r.isError,lastNumberAndOperationString:a.payload.newSmallDisplayValuesObjectArrayWithError.slice(-3,-1).join(" "),isError:a.payload.calculatedResultAndErrorObject.error,isSignChanged:!1});case"powerCalculated":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:a.payload.calculatedPowerObject.bigString,historyOfOperationsArray:a.payload.calculatedPowerObject.smallArray});case"squareRootCalculated":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:a.payload.calculatedSquareRootObject.bigString,historyOfOperationsArray:a.payload.calculatedSquareRootObject.smallArray,isError:a.payload.calculatedSquareRootObject.error});case"oneByXDivided":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:a.payload.oneByXDividedObject.bigString,historyOfOperationsArray:a.payload.oneByXDividedObject.smallArray,isError:a.payload.oneByXDividedObject.error});case"percentCalculated":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:a.payload.percentCalculatedObject.bigString,historyOfOperationsArray:a.payload.percentCalculatedObject.smallArray});case"lastCharacterDeleted":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:a.payload.mainValueString,historyOfOperationsArray:a.payload.historyOfOperationsArray,isError:!1,isSignChanged:!1});case"signChanged":return Object(k.a)(Object(k.a)({},r),{},{mainValueString:a.payload.signChangedObject.bigString,historyOfOperationsArray:null!==a.payload.signChangedObject.smallArray?a.payload.signChangedObject.smallArray:r.historyOfOperationsArray,isSignChanged:a.payload.signChangedObject.isSignChanged});default:return r}}}),I=Object(R.c)(B,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(t.a.createElement(t.a.StrictMode,null,t.a.createElement(o.a,{store:I},t.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(r){r.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.46947ee1.chunk.js.map