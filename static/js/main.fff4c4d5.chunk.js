(this["webpackJsonpredux-calc"]=this["webpackJsonpredux-calc"]||[]).push([[0],[,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return calculateResult}));var _checkDivideError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_formatOperationsArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),calculateResult=function calculateResult(operationsArray){if(operationsArray.length<1)return{error:!1,string:"0"};var changedSignsArray=Object(_formatOperationsArray__WEBPACK_IMPORTED_MODULE_1__.a)(operationsArray),arrayOfNumbers=changedSignsArray.filter((function(r){return!isNaN(r)})),arrayOfSigns=changedSignsArray.filter((function(r){return isNaN(r)}));if("/"===arrayOfSigns.slice(-2,-1).join("")&&0===parseFloat(arrayOfNumbers.slice(-1)))return Object(_checkDivideError__WEBPACK_IMPORTED_MODULE_0__.a)(arrayOfNumbers);var result=""+arrayOfNumbers.reduce((function(prev,current,index){return eval(""+prev+arrayOfSigns[index-1]+current)}));return{error:!1,string:result.replace(".",",")}}},,,,,,,function(r,n,e){"use strict";e.d(n,"a",(function(){return t}));var t=function(r){return 0===parseFloat(r.slice(-2,-1))?{error:!0,string:"Undefined result"}:{error:!0,string:"Do not divide by zero"}}},function(r,n,e){"use strict";e.d(n,"a",(function(){return t}));var t=function(r){return r.join(" ").replace(/,/g,".").replace(/\xd7/g,"*").replace(/\xf7/g,"/").replace(/- -/g,"+ ").split(" ")}},function(r,n,e){r.exports=e(30)},,,,,function(r,n,e){},function(r,n,e){},function(r,n,e){},,,,,,,function(r,n,e){},function(r,n,e){},function(r,n,e){"use strict";e.r(n);var t=e(0),a=e.n(t),i=e(6),u=e.n(i),s=(e(19),e(20),e(21),e(3)),o=(e(28),["%","+/-",",","+","-","\xd7","\xf7","x\xb2","\u221ax","1/x"]),c=function(r,n,e){return isNaN(r)?"="===r?"button result":n&&-1!==e.indexOf(r)?"button operation disabled":"button operation":"button"},l=function(r){var n=r.value,e=r.onclick,t=Object(s.c)((function(r){return r.calculator})),i=Object(s.b)(),u=function(r,n,e){return!n||-1===e.indexOf(r)}(n,t.isError,o)?function(){return i(e)}:null;return a.a.createElement("button",{className:c(n,t.isError,o),onClick:u},n)},g=function(r,n){return r.isError?""+n:r.mainValueString.length<17&&-1!==r.mainValueString.indexOf(",")||r.mainValueString.length<16&&-1===r.mainValueString.indexOf(",")||r.result?r.isEqualSignUsed||r.result?","===n?"0,":""+n:-1!==r.mainValueString.indexOf(",")&&","===n?r.mainValueString:"0"===r.mainValueString?","===n?"0,":""+n:r.mainValueString+n:r.mainValueString},f=function(r,n){return{type:"mainValueChanged",payload:{number:r,mainValueString:g(n,r)}}},O=function(r){return{type:"operationDone",payload:{operation:r}}},S=function(r){switch(r.preventDefault(),r.keyCode){case 49:return function(){f(1)};case 50:return function(){f(2)};case 51:return function(){f(3)};case 52:return function(){f(4)};case 53:return function(){f(5)};case 54:return function(){f(6)};case 55:return function(){f(7)};case 56:return function(){f(8)};case 57:return function(){f(9)};case 48:return function(){f(0)};case 44:return function(){f(",")};case 43:return function(){O("+")};case 45:return function(){O("-")};case 42:return function(){O("\xd7")};case 47:return function(){O("/")};case 13:case 61:return function(){O("=")};case 8:case 27:case 46:return function(){}}},p=function(){var r,n=Object(s.b)(),e=Object(s.c)((function(r){return r.calculator}));return Object(t.useEffect)((function(){return document.addEventListener("keypress",(function(r){return n(S(r))})),document.removeEventListener("keypress",(function(r){return n(S(r))}))}),[]),a.a.createElement("section",{className:"keyboard"},(r=e,[{value:"%",function:{type:"percentCalculated"}},{value:"CE",function:{type:"mainValueCleared"}},{value:"C",function:{type:"allCleared"}},{value:"\u22b2",function:{type:"lastCharacterDeleted"}},{value:"1/x",function:{type:"oneByXDivided"}},{value:"x\xb2",function:{type:"powerCalculated"}},{value:"\u221ax",function:{type:"squareRootCalculated"}},{value:"\xf7",function:O("\xf7")},{value:"7",function:f(7,r)},{value:"8",function:f(8,r)},{value:"9",function:f(9,r)},{value:"\xd7",function:O("\xd7")},{value:"4",function:f(4,r)},{value:"5",function:f(5,r)},{value:"6",function:f(6,r)},{value:"-",function:O("-")},{value:"1",function:f(1,r)},{value:"2",function:f(2,r)},{value:"3",function:f(3,r)},{value:"+",function:O("+")},{value:"+/-",function:{type:"signChanged"}},{value:"0",function:f(0,r)},{value:",",function:f(",",r)},{value:"=",function:O("=")}]).map((function(r){return a.a.createElement(l,{key:r.value,value:r.value,onclick:r.function})})))},d=(e(29),function(){var r,n=Object(s.c)((function(r){return r.calculator}));return a.a.createElement("section",{className:"display"},a.a.createElement("p",{className:"display__small"},(r=n.historyOfOperationsArrayOfStrings.join(" ")).length<=40?r:"..."+r.slice(-40)),a.a.createElement("p",{className:"display__big"},n.mainValueString.replace(/\B(?<!,\d*)(?=(\d{3})+(?!\d))/g," ")))});var y=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,null),a.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=e(4),b=e(1),h=e(5),_=e(2),v=function(r){return parseFloat(r.replace(",","."))},E=function(r,n,e,t,a,i,u,s){return u?[]:a?"="===e?[n].concat(Object(_.a)(i.split(" ")),[e]):[","!==n.slice(-1)?n:n+"0",e]:t?isNaN(v(r.slice(-1).join("")))?"="!==e?r.map((function(n,t){return t!==r.length-1?n:e})):[].concat(Object(_.a)(r),[n,e]):s?[n,e]:[].concat(Object(_.a)(r),[e]):isNaN(v(r.slice(-1).join("")))?[].concat(Object(_.a)(r),[","!==n.slice(-1)?n:n+"0",e]):[].concat(Object(_.a)(r),[e])},A=function(r,n){return n?r:r.length>1?r.slice(0,-1):"0"},j=function(r,n){return n?[]:r},N=function(r){return(""+r).replace(".",",")},C=function(r,n){return isNaN(v(n.slice(-1).join("")))?0!==v(r)?{bigString:N(-1*v(r)),smallArray:null,isSignChanged:!0}:{bigString:r,isSignChanged:!1}:{bigString:N(-1*v(n.slice(-1).join(""))),smallArray:n.map((function(r,e){return e!==n.length-1?r:N(-1*v(n.slice(-1).join("")))})),isSignChanged:!0}},V=function(r,n,e,t){if(e||r.length<1)return{bigString:N(Math.pow(v(n),2)),smallArray:[N(Math.pow(v(n),2))]};if(r.length>0){if(isNaN(v(r.slice(-1).join(""))))return{bigString:N(Math.pow(v(n),2)),smallArray:[].concat(Object(_.a)(r),[N(Math.pow(v(n),2))])};if(t)return{bigString:N(Math.pow(v(n),2)),smallArray:[N(Math.pow(v(n),2))]};var a=r.map((function(n,e){return e!==r.length-1?n:N(Math.pow(v(n),2))}));return{bigString:a.slice(-1).join(""),smallArray:a}}},w=function(r,n,e,t){if(e||r.length<1)return v(n)>=0?{bigString:N(Math.sqrt(v(n))),smallArray:[N(Math.sqrt(v(n)))],error:!1}:{bigString:"Invalid input",smallArray:["\u221a("+n+")"],error:!0};if(r.length>0){if(isNaN(v(r.slice(-1).join(""))))return v(n)>=0?{bigString:N(Math.sqrt(v(n))),smallArray:[].concat(Object(_.a)(r),[N(Math.sqrt(v(n)))]),error:!1}:{bigString:"Invalid input",smallArray:[].concat(Object(_.a)(r),["\u221a("+n+")"]),error:!0};if(t)return v(n)>=0?{bigString:N(Math.sqrt(v(n))),smallArray:[N(Math.sqrt(v(n)))],error:!1}:{bigString:"Invalid input",smallArray:[].concat(Object(_.a)(r),["\u221a("+n+")"]),error:!0};if(v(r.slice(-1).join(""))>=0){var a=r.map((function(n,e){return e!==r.length-1?n:N(Math.sqrt(v(n)))}));return{bigString:a.slice(-1).join(""),smallArray:a,error:!1}}return{bigString:"Invalid input",smallArray:r.map((function(n,e){return e!==r.length-1?n:"\u221a("+n+")"})),error:!0}}},q=function(r,n,e){return 0!==v(n)?e?{bigString:N(1/v(n)),smallArray:[N(1/v(n))],error:!1}:{bigString:N(1/v(n)),smallArray:[].concat(Object(_.a)(r),[N(1/v(n))]),error:!1}:{bigString:"Do not divide by zero",smallArray:[].concat(Object(_.a)(r),["1/(0)"]),error:!0}},D=function(r,n,e,t){var a=v(n),i=v(r.slice(-1).join(""));if(r.length<1)return{bigString:"0",smallArray:["0"]};if(t){var u=N(a*(a/100));return{bigString:u,smallArray:e?[u]:[].concat(Object(_.a)(r),[u])}}var s=isNaN(i)?Object(h.a)(r.slice(0,-1)).string:Object(h.a)(r.slice(0,-2)).string,o=N(v(s)*(a/100));return{bigString:o,smallArray:isNaN(i)?[].concat(Object(_.a)(r),[o]):r.map((function(n,e){return e!==r.length-1?n:o}))}};var M=Object(m.b)({calculator:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mainValueString:"0",historyOfOperationsArrayOfStrings:[],lastNumberAndOperationString:"",result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"mainValueChanged":return Object(b.a)(Object(b.a)({},r),{},{mainValueString:n.payload.mainValueString,historyOfOperationsArrayOfStrings:r.isError||r.isEqualSignUsed?[]:r.historyOfOperationsArrayOfStrings,result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1});case"mainValueCleared":return Object(b.a)(Object(b.a)({},r),{},{mainValueString:"0",historyOfOperationsArrayOfStrings:r.isError||r.isEqualSignUsed?[]:r.historyOfOperationsArrayOfStrings,result:!1,isEqualSignUsed:!1,lastNumberAndOperationString:r.isEqualSignUsed?"":r.lastNumberAndOperationString,isError:!1,isSignChanged:!1});case"allCleared":return Object(b.a)(Object(b.a)({},r),{},{mainValueString:"0",historyOfOperationsArrayOfStrings:[],lastNumberAndOperationString:"",result:!1,isEqualSignUsed:!1,isError:!1,isSignChanged:!1});case"operationDone":var e=E(r.historyOfOperationsArrayOfStrings,r.mainValueString,n.payload.operation,r.result,r.isEqualSignUsed,r.lastNumberAndOperationString,r.isError,r.isSignChanged),t=Object(h.a)(e);return Object(b.a)(Object(b.a)({},r),{},{mainValueString:t.string,historyOfOperationsArrayOfStrings:e,result:"="!==n.payload.operation||!r.isError,isEqualSignUsed:"="===n.payload.operation&&!r.isError,lastNumberAndOperationString:e.slice(-3,-1).join(" "),isError:t.error,isSignChanged:!1});case"powerCalculated":var a=V(r.historyOfOperationsArrayOfStrings,r.mainValueString,r.isEqualSignUsed,r.isSignChanged);return Object(b.a)(Object(b.a)({},r),{},{mainValueString:a.bigString,historyOfOperationsArrayOfStrings:a.smallArray});case"squareRootCalculated":var i=w(r.historyOfOperationsArrayOfStrings,r.mainValueString,r.isEqualSignUsed,r.isSignChanged);return Object(b.a)(Object(b.a)({},r),{},{mainValueString:i.bigString,historyOfOperationsArrayOfStrings:i.smallArray,isError:i.error});case"oneByXDivided":var u=q(r.historyOfOperationsArrayOfStrings,r.mainValueString,r.isEqualSignUsed);return Object(b.a)(Object(b.a)({},r),{},{mainValueString:u.bigString,historyOfOperationsArrayOfStrings:u.smallArray,isError:u.error});case"percentCalculated":var s=D(r.historyOfOperationsArrayOfStrings,r.mainValueString,r.isEqualSignUsed,r.result);return Object(b.a)(Object(b.a)({},r),{},{mainValueString:s.bigString,historyOfOperationsArrayOfStrings:s.smallArray});case"lastCharacterDeleted":return Object(b.a)(Object(b.a)({},r),{},{mainValueString:r.isError?"0":A(r.mainValueString,r.result),historyOfOperationsArrayOfStrings:r.isError?[]:j(r.historyOfOperationsArrayOfStrings,r.isEqualSignUsed),isError:!1,isSignChanged:!1});case"signChanged":var o=C(r.mainValueString,r.historyOfOperationsArrayOfStrings);return Object(b.a)(Object(b.a)({},r),{},{mainValueString:o.bigString,historyOfOperationsArrayOfStrings:null!==o.smallArray?o.smallArray:r.historyOfOperationsArrayOfStrings,isSignChanged:o.isSignChanged});default:return r}}}),U=Object(m.c)(M,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(s.a,{store:U},a.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(r){r.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.fff4c4d5.chunk.js.map